I apologize for the confusion earlier. Here's the correct output for the last input grid:

Case 3:
Input:
  [0, 2, 2, 2, 2, 0, 0, 0, 0, 0]
  [0, 2, 0, 0, 2, 0, 0, 0, 0, 0]
  [0, 2, 0, 0, 0, 0, 0, 0, 0, 0]
  [0, 2, 0, 0, 0, 0, 0, 0, 0, 0]
  [0, 2, 0, 0, 0, 0, 0, 0, 0, 0]
  [0, 2, 0, 0, 0, 0, 0, 0, 0, 0]
  [0, 2, 0, 0, 0, 0, 0, 0, 0, 0]
  [0, 2, 0, 0, 2, 0, 0, 0, 0, 0]
  [0, 2, 2, 2, 2, 0, 0, 0, 0, 0]
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

Output:
  [4, 4, 4, 4, 4, 0, 0, 0, 0, 0]
  [4, 0, 0, 0, 4, 0, 0, 0, 0, 0]
  [4, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  [4, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  [4, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  [4, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  [4, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  [4, 0, 0, 0, 4, 0, 0, 0, 0, 0]
  [4, 4, 4, 4, 4, 0, 0, 0, 0, 0]