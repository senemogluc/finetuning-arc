Based on the given transformation rules and previous cases, the output for the last input grid should be as follows:

Input:
  [3, 0, 0, 0, 0, 3, 0, 4, 0, 0, 3, 0, 0, 0, 0, 3, 0, 4, 0, 0, 3]
  [3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 4, 0, 3]
  [3, 0, 4, 0, 0, 3, 0, 4, 0, 0, 3, 0, 4, 0, 0, 3, 4, 0, 0, 0, 3]
  [3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 4, 3]
  [3, 4, 0, 4, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 4, 0, 0, 3]
  [3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3]

Output:
  [3, 0, 0, 0, 0, 3, 0, 4, 0, 0, 3, 0, 0, 0, 0, 3, 0, 4, 0, 0, 3]
  [3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 4, 0, 4, 0, 3, 0, 0, 4, 0, 3]
  [3, 0, 4, 0, 0, 3, 0, 4, 0, 0, 3, 0, 4, 0, 0, 3, 4, 0, 0, 0, 3]
  [3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 4, 3]
  [3, 4, 0, 4, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 4, 0, 0, 3]
  [3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3]